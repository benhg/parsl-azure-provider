2019-07-08 20:55:47.188 parsl.dataflow.dflow:80 [DEBUG]  Starting DataFlowKernel with config
Config(
    app_cache=True, 
    checkpoint_files=None, 
    checkpoint_mode=None, 
    checkpoint_period=None, 
    data_management_max_threads=10, 
    executors=[HighThroughputExecutor(
        address='127.0.0.1', 
        cores_per_worker=1.0, 
        heartbeat_period=30, 
        heartbeat_threshold=120, 
        interchange_port_range=(55000, 56000), 
        label='HighThroughputExecutor', 
        launch_cmd='process_worker_pool.py {debug} {max_workers} -p {prefetch_capacity} -c {cores_per_worker} -m {mem_per_worker} --poll {poll_period} --task_url={task_url} --result_url={result_url} --logdir={logdir} --block_id={{block_id}} --hb_period={heartbeat_period} --hb_threshold={heartbeat_threshold} ', 
        managed=True, 
        max_workers=inf, 
        mem_per_worker=None, 
        poll_period=10, 
        prefetch_capacity=0, 
        provider=AzureProvider(
            group_name='parsl.auto', 
            init_blocks=1, 
            key_file='azure_keys.json', 
            key_name=None, 
            launcher=SingleNodeLauncher(), 
            linger=False, 
            location='westus', 
            max_blocks=10, 
            min_blocks=0, 
            nodes_per_block=1, 
            parallelism=1, 
            vm_reference={'publisher': 'Canonical', 'offer': 'UbuntuServer', 'sku': '16.04.0-LTS', 'version': 'latest', 'vm_size': 'Standard_DS1_v2', 'disk_size_gb': 10, 'admin_username': 'parsl.auto.admin', 'password': '@@86*worth*TRUST*problem*69@@'}, 
            vnet_name='parsl.auto', 
            walltime='01:00:00', 
            worker_init=''
        ), 
        storage_access=[], 
        suppress_failure=False, 
        worker_debug=False, 
        worker_logdir_root=None, 
        worker_port_range=(54000, 55000), 
        worker_ports=None, 
        working_dir=None
    )], 
    lazy_errors=True, 
    monitoring=None, 
    retries=0, 
    run_dir='runinfo', 
    strategy='simple', 
    usage_tracking=False
)
2019-07-08 20:55:47.188 parsl.dataflow.dflow:81 [INFO]  Parsl version: 0.8.0
2019-07-08 20:55:47.189 parsl.dataflow.usage_tracking.usage:126 [DEBUG]  Tracking status: False
2019-07-08 20:55:47.189 parsl.dataflow.usage_tracking.usage:127 [DEBUG]  Testing mode   : False
2019-07-08 20:55:47.189 parsl.dataflow.dflow:107 [INFO]  Run id is: 954b7a1c-b341-4530-a634-354db245e120
2019-07-08 20:55:47.380 parsl.dataflow.memoization:52 [INFO]  App caching initialized
2019-07-08 20:55:47.381 parsl.executors.high_throughput.executor:434 [DEBUG]  Starting queue management thread
2019-07-08 20:55:47.381 parsl.executors.high_throughput.executor:309 [DEBUG]  [MTHREAD] queue management worker starting
2019-07-08 20:55:47.382 parsl.executors.high_throughput.executor:438 [DEBUG]  Started queue management thread
2019-07-08 20:55:47.397 parsl.executors.high_throughput.executor:268 [DEBUG]  Created management thread: <Thread(Thread-1, started daemon 123145361633280)>
2019-07-08 20:55:47.397 parsl.executors.high_throughput.executor:242 [DEBUG]  Launch command: process_worker_pool.py   -p 0 -c 1.0 -m None --poll 10 --task_url=tcp://127.0.0.1:54033 --result_url=tcp://127.0.0.1:54333 --logdir=/Users/ben/Desktop/parsl-azure-provider/runinfo/007/HighThroughputExecutor --block_id={block_id} --hb_period=30 --hb_threshold=120 
2019-07-08 20:55:47.398 parsl.executors.high_throughput.executor:245 [DEBUG]  Starting HighThroughputExecutor with provider:
AzureProvider(
    group_name='parsl.auto', 
    init_blocks=1, 
    key_file='azure_keys.json', 
    key_name=None, 
    launcher=SingleNodeLauncher(), 
    linger=False, 
    location='westus', 
    max_blocks=10, 
    min_blocks=0, 
    nodes_per_block=1, 
    parallelism=1, 
    vm_reference={'publisher': 'Canonical', 'offer': 'UbuntuServer', 'sku': '16.04.0-LTS', 'version': 'latest', 'vm_size': 'Standard_DS1_v2', 'disk_size_gb': 10, 'admin_username': 'parsl.auto.admin', 'password': '@@86*worth*TRUST*problem*69@@'}, 
    vnet_name='parsl.auto', 
    walltime='01:00:00', 
    worker_init=''
)
2019-07-08 20:55:48.511 parsl.providers.azure.azure:229 [INFO]  
Creating NIC
2019-07-08 20:55:48.511 parsl.providers.azure.azure:389 [INFO]  
Creating (or updating) Vnet
2019-07-08 20:55:48.895 parsl.providers.azure.azure:404 [INFO]  Found Existing Vnet. Proceeding.
2019-07-08 20:55:48.896 parsl.providers.azure.azure:411 [INFO]  
Creating (or updating) Subnet
2019-07-08 20:55:49.570 parsl.providers.azure.azure:426 [INFO]  Found Existing Subnet. Proceeding.
2019-07-08 20:55:49.570 parsl.providers.azure.azure:429 [INFO]  
Creating (or updating) NIC
2019-07-08 20:56:21.793 parsl.providers.azure.azure:240 [INFO]  
Creating Linux Virtual Machine
2019-07-08 20:57:04.393 parsl.providers.azure.azure:486 [INFO]  
Create (empty) managed Data Disk
2019-07-08 20:57:36.033 parsl.providers.azure.azure:256 [DEBUG]  Started instance_id: /subscriptions/2232146b-0836-4a1e-89eb-dc32054d9a03/resourceGroups/parsl.auto/providers/Microsoft.Compute/virtualMachines/parsl.auto.1562637381.7938519
2019-07-08 20:58:18.164 parsl.providers.azure.azure:288 [ERROR]  export CORES=$(getconf _NPROCESSORS_ONLN)
echo "Found cores : $CORES"
WORKERCOUNT=1

CMD ( ) {
process_worker_pool.py   -p 0 -c 1.0 -m None --poll 10 --task_url=tcp://127.0.0.1:54033 --result_url=tcp://127.0.0.1:54333 --logdir=/Users/ben/Desktop/parsl-azure-provider/runinfo/007/HighThroughputExecutor --block_id=0 --hb_period=30 --hb_threshold=120 
}
for COUNT in $(seq 1 1 $WORKERCOUNT)
do
    echo "Launching worker: $COUNT"
    CMD &
done
wait
echo "All workers done"

2019-07-08 20:58:48.943 parsl.providers.azure.azure:301 [ERROR]  Enable succeeded: 
[stdout]
systemd-private-e34940cde4b3490db00345370bbe5287-systemd-timesyncd.service-y751UX

[stderr]

2019-07-08 20:58:48.943 parsl.executors.high_throughput.executor:551 [DEBUG]  Launched block 0->parsl.auto.1562637381.7938519
2019-07-08 20:58:48.944 parsl.dataflow.strategy:125 [DEBUG]  Scaling strategy: simple
2019-07-08 20:58:48.945 parsl.dataflow.dflow:694 [INFO]  Task 0 submitted for App double, waiting on tasks []
2019-07-08 20:58:48.946 parsl.dataflow.dflow:704 [DEBUG]  Task 0 set to pending state with AppFuture: <AppFuture super=<AppFuture at 0x106c51828 state=pending> parent=None>
2019-07-08 20:58:48.946 parsl.executors.high_throughput.executor:518 [DEBUG]  Pushing function <function double at 0x104de0a60> to queue with args (10,)
2019-07-08 20:58:48.997 parsl.dataflow.dflow:470 [INFO]  Task 0 launched on executor HighThroughputExecutor
2019-07-08 20:58:49.949 parsl.providers.azure.azure:319 [INFO]  
List VMs in resource group
2019-07-08 20:58:50.416 parsl.dataflow.strategy:204 [DEBUG]  Executor HighThroughputExecutor has 1 active tasks, 1/0/0 running/submitted/pending blocks, and 0 connected workers
2019-07-08 20:58:52.445 parsl.dataflow.dflow:831 [INFO]  DFK cleanup initiated
2019-07-08 20:58:52.445 parsl.dataflow.dflow:740 [INFO]  Summary of tasks in DFK:
2019-07-08 20:58:52.445 parsl.dataflow.dflow:771 [INFO]  Tasks in state States.launched: 0
2019-07-08 20:58:52.445 parsl.dataflow.dflow:778 [INFO]  End of summary
2019-07-08 20:58:52.446 parsl.dataflow.dflow:855 [INFO]  Terminating flow_control and strategy threads
2019-07-08 20:58:52.446 parsl.providers.azure.azure:351 [DEBUG]  
Delete VM parsl.auto.1562637381.7938519
